// Copyright 2021 Eric Lawrey - Australian Institute of Marine Science
//
// MIT License https://mit-license.org/
// This script is written to run on the Google Earth Engine 

// This script generates and exports the Sentinel 2 imagery for selected
// global reef locations. These locations were selected as they represent
// some of the variety in global reef types. This allowed us to check if our 
// reef mapping techniques and Sentinel 2 image generation algorithms were more 
// globally applicable, helping to ensure the approaches developed were robust. 

// === README: ====
// If you modify your copy of s2s2Utils.js you must change this path, changing
// the username. GEE only allows absolute paths.
var s2Utils = require('users/ericlawrey/CS_AIMS_Coral-Sea-Features_Img:src/01-gee/sentinel2/s2Utils.js');

// These are the options for the primary reference imagery.
// The primary reference imagery should correspond to a composite
// made from the best set of images available, with the goal being
// to get the cleanest image.

var REF1_OPTIONS = {
  colourGrades: ['DeepFalse','TrueColour','Shallow', 'Depth5m', 'Depth10m'],
  exportScale: [10, 10, 10, 10, 10],
  //colourGrades: ['Depth5m', 'Depth10m'],
  //exportScale: [10, 10],
  exportBasename: 'CS_AIMS_Coral-Sea-Features_Img_S2_R1',
  exportFolder: 'EarthEngine/CS_AIMS_Coral-Sea-Features_Img/Global3',
  applySunglintCorrection: true,
  applyBrightnessAdjustment: true
};

// These options correspond to the secondary reference imagery.
// This will be made from the next best set of images. The goal
// is to provide a second set of imagery to determine if spots
// in the imagery are artefacts (from clouds) or real features.
var REF2_OPTIONS = {
  //colourGrades: ['DeepFalse'],
  //  exportScale: [10],
  colourGrades: [],
    exportScale: [],
  exportBasename: 'CS_AIMS_Coral-Sea-Features_Img_S2_R2',
  exportFolder: 'EarthEngine/CS_AIMS_Coral-Sea-Features_Img/Global',
  applySunglintCorrection: true,
  applyBrightnessAdjustment: true
};

// ===============================================================
//
//                    Western Australia
//
// ===============================================================
// North West Shelf, Australia. Baracouta East Shoal
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 40 of 76 Images

s2Utils.s2_composite_display_and_export(
  [
  // Excellent - no clouds
  // The following are ratings of the visibility of two shoals at the maximum depth of visibility
  // Each image was rated out of 5, where 0 indicates that the shoal is not visible.
  // Images where the visibility was rated 0 were excluded from the reference 1 image
  // Shoal 1 - Just east of Baracouta East (bottom left of tile)
  // Shoal 2 - North West of tile
                                                            // Shoal 1, Shoal 2
    "COPERNICUS/S2/20160824T015622_20160824T065137_T51LXG", // 1, 1
    "COPERNICUS/S2/20170819T015701_20170819T020019_T51LXG", // 1, 1.5
    "COPERNICUS/S2/20170903T015649_20170903T020007_T51LXG", // 2, 0.5
    "COPERNICUS/S2/20180610T015619_20180610T015817_T51LXG", // 0.5, 0.5
    "COPERNICUS/S2/20180725T015621_20180725T015621_T51LXG", // 1, 0.5 
    "COPERNICUS/S2/20190426T015629_20190426T015717_T51LXG", // 1, 1
    "COPERNICUS/S2/20190824T015029_20190824T015926_T51LXG"  // 0.5, 1.5
  ],
 false, false, REF1_OPTIONS);

  
// tileID = '51LXF';   // North West Shelf, Australia. Vulcan, Goeree Shoals
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 49 of 98 images

s2Utils.s2_composite_display_and_export(
  [
    // Excellent - no clouds
    "COPERNICUS/S2/20160824T015622_20160824T015622_T51LXF",
    "COPERNICUS/S2/20160913T015622_20160913T015617_T51LXF",
    "COPERNICUS/S2/20170730T015701_20170730T015834_T51LXF",
    "COPERNICUS/S2/20170903T015649_20170903T020007_T51LXF", // Some turbulence
    "COPERNICUS/S2/20180725T015621_20180725T015621_T51LXF",
    "COPERNICUS/S2/20180809T015619_20180809T020050_T51LXF",
    "COPERNICUS/S2/20180908T015609_20180908T020045_T51LXF",
    "COPERNICUS/S2/20180918T015609_20180918T020006_T51LXF",
    "COPERNICUS/S2/20181008T015619_20181008T020050_T51LXF"  // 0.5, 1.5
  ],
 false, false, REF1_OPTIONS);

// North West Shelf, Australia. Ashmore reef
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 50 of 82 images

s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20170703T020751_20170703T020751_T51LWG",
    "COPERNICUS/S2/20170807T020749_20170807T020833_T51LWG",
    "COPERNICUS/S2/20170827T020749_20170827T020747_T51LWG",
    "COPERNICUS/S2/20180509T020451_20180509T020447_T51LWG",
    "COPERNICUS/S2/20180906T020441_20180906T021028_T51LWG",
    "COPERNICUS/S2/20190708T020459_20190708T020508_T51LWG",
    "COPERNICUS/S2/20190807T020029_20190807T020716_T51LWG",
    "COPERNICUS/S2/20190901T020021_20190901T020607_T51LWG"
  ],
 false, false, REF1_OPTIONS);


  //51LUE Scott Reef, WA, Australia
// 156 images; searched from 1-17 and 94 - 156

s2Utils.s2_composite_display_and_export(
  [
    //Excellent
    "COPERNICUS/S2/20210930T020451_20210930T020449_T51LUE",
    "COPERNICUS/S2/20210925T020449_20210925T021044_T51LUE",
    "COPERNICUS/S2/20210905T020439_20210905T020441_T51LUE",
    "COPERNICUS/S2/20210717T020449_20210717T020454_T51LUE",
    "COPERNICUS/S2/20210707T020449_20210707T020446_T51LUE",
    "COPERNICUS/S2/20210702T020451_20210702T020921_T51LUE",
    "COPERNICUS/S2/20210418T020439_20210418T020447_T51LUE",
    "COPERNICUS/S2/20201114T020451_20201114T021101_T51LUE",
    "COPERNICUS/S2/20201005T020451_20201005T020451_T51LUE",
    "COPERNICUS/S2/20200930T020449_20200930T021031_T51LUE",
    "COPERNICUS/S2/20200910T020449_20200910T020454_T51LUE",
    "COPERNICUS/S2/20200905T020451_20200905T020822_T51LUE"
  ],
 false, false, REF1_OPTIONS);


// 51LXH - North West Shelf
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 30 of 76 Images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20170827T020749_20170827T020747_T51LXH",
    "COPERNICUS/S2/20180509T020451_20180509T020447_T51LXH",
    "COPERNICUS/S2/20190426T015629_20190426T015717_T51LXH",
    // Good
    "COPERNICUS/S2/20160107T015552_20160107T015552_T51LXH",
    "COPERNICUS/S2/20170713T020451_20170713T020619_T51LXH",
    "COPERNICUS/S2/20180703T020449_20180703T020824_T51LXH"
  ],
 false, false, REF1_OPTIONS);
  
  
// 49KGR - Australia, WA, Ningaloo reef
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 25 of 186 Images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20160617T024346_20160617T073207_T49KGR",
    "COPERNICUS/S2/20170222T024321_20170222T024315_T49KGR",
    "COPERNICUS/S2/20170403T024321_20170403T024318_T49KGR",
    "COPERNICUS/S2/20170513T024321_20170513T024338_T49KGR",
    "COPERNICUS/S2/20170707T024349_20170707T024343_T49KGR",
    "COPERNICUS/S2/20170717T024319_20170717T024321_T49KGR",
    "COPERNICUS/S2/20170806T024319_20170806T024320_T49KGR",
     // Good
    "COPERNICUS/S2/20150911T024346_20170202T024416_T49KGR",
    "COPERNICUS/S2/20151001T024346_20151001T024346_T49KGR",
    "COPERNICUS/S2/20160208T021842_20160208T024034_T49KGR",
    "COPERNICUS/S2/20160816T024352_20160816T073202_T49KGR"
  ],
 false, false, REF1_OPTIONS);
  
  
// North West Shelf, Australia, Timor Sea, Big Bank Shoals
// Aligns with:
// A. Heyward, E. Pinceratto, L. Smith (1997) Big Bank Shoals of the Timor Sea. An Environmenal Resource Atlas
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 34 of 34 images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20180705T015621_20180705T015939_T51LZJ",
    
    // Good
    "COPERNICUS/S2/20160804T015622_20160804T015624_T51LZJ",
    "COPERNICUS/S2/20170715T015619_20170715T015902_T51LZJ",
    "COPERNICUS/S2/20180426T015621_20180426T015622_T51LZJ",
    "COPERNICUS/S2/20210604T015619_20210604T015621_T51LZJ",
    "COPERNICUS/S2/20210609T015621_20210609T015621_T51LZJ",
    
    // OK
    "COPERNICUS/S2/20200604T015631_20200604T015627_T51LZJ"
  ],
 false, false, REF1_OPTIONS);
  
// Australia, WA, Shark bay. This scene is used to highlight
// recognising dark substrates due to the seagrass meadows.
// CLOUDY_PIXEL_PERCENTAGE = 0.1
//  30 of 336 images
s2Utils.s2_composite_display_and_export(
  [
  // Excellent - Left
    "COPERNICUS/S2/20151001T024446_20151001T024444_T49JGM", // Left
    "COPERNICUS/S2/20160309T021612_20160309T023621_T49JGM", // Dark green (sun glint correction artefact?)
    "COPERNICUS/S2/20160329T024439_20160329T093513_T49JGM", // Dark green 
    "COPERNICUS/S2/20160617T024442_20160617T024444_T49JGM",
    "COPERNICUS/S2/20160826T024322_20160826T024322_T49JGM",
    "COPERNICUS/S2/20161005T024322_20161005T024317_T49JGM",
  
  // Excellent - right
    "COPERNICUS/S2/20151008T023306_20151008T023308_T49JGM", // Right
    "COPERNICUS/S2/20160614T023442_20160614T023445_T49JGM",
    "COPERNICUS/S2/20160624T023250_20160624T090716_T49JGM",
    "COPERNICUS/S2/20160902T023442_20160902T023442_T49JGM",
    "COPERNICUS/S2/20161012T023442_20161012T023437_T49JGM",
    "COPERNICUS/S2/20161022T023242_20161022T023245_T49JGM",
  ],
 false, false, REF1_OPTIONS);
  
// Australia, Western Australia, Port Headland
//CLOUDY_PIXEL_PERCENTAGE = 0.1
// 60 of 180 images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    // (X) water clarity index 1 - very poor, 5 - excellent (visbility to 25 m)
    "COPERNICUS/S2/20160830T021342_20160830T021830_T50KPC", // (5)
    //"COPERNICUS/S2/20170711T021919_20170711T021946_T50KPC", // (2)
    //"COPERNICUS/S2/20170716T021921_20170716T021946_T50KPC", // (2)
    "COPERNICUS/S2/20170805T021921_20170805T022157_T50KPC", // (5)
    //"COPERNICUS/S2/20170914T021921_20170914T022153_T50KPC", // (2)
    //"COPERNICUS/S2/20180626T021349_20180626T021727_T50KPC", // (2)
    //"COPERNICUS/S2/20180706T021349_20180706T022146_T50KPC", // (2)
    "COPERNICUS/S2/20180711T021351_20180711T022105_T50KPC", // (4)
    "COPERNICUS/S2/20180810T021341_20180810T022115_T50KPC", // (3)
    "COPERNICUS/S2/20180820T021341_20180820T022233_T50KPC", // (3)
    "COPERNICUS/S2/20180825T021339_20180825T022252_T50KPC", // (4)
    "COPERNICUS/S2/20180904T021339_20180904T022251_T50KPC", // (4)  // Dredging plume
    "COPERNICUS/S2/20180909T021341_20180909T021620_T50KPC", // (3)  // Dredging plume
  ],
 false, false, REF1_OPTIONS);



// ===============================================================
//
//            GREAT BARRIER REEF MARINE PARK
//
// ===============================================================


// Australia, GBR, Great Detached reef, Wishbone reef
// A lot of scenes have strong sunglint
// CLOUDY_PIXEL_PERCENTAGE = 1
// 42 of 58 images
s2Utils.s2_composite_display_and_export(
  [
    // Good - right
    "COPERNICUS/S2/20180924T003659_20180924T003658_T54LZM",
    "COPERNICUS/S2/20190825T003711_20190825T003706_T54LZM",
    // OK - Right
    "COPERNICUS/S2/20171123T003701_20171123T003700_T54LZM",
    
    // OK - left
    "COPERNICUS/S2/20190704T004719_20190704T004715_T54LZM",
    "COPERNICUS/S2/20190907T004711_20190907T004705_T54LZM",  // Strong green banding
    "COPERNICUS/S2/20190917T004711_20190917T004705_T54LZM",  // Strong green banding
    
    // Maybe - Left
    "COPERNICUS/S2/20160614T004712_20160614T005002_T54LZM",
    "COPERNICUS/S2/20160823T004902_20160823T004856_T54LZM",
    "COPERNICUS/S2/20180724T004711_20180724T004707_T54LZM",
    "COPERNICUS/S2/20180729T004709_20180729T004703_T54LZM",
    "COPERNICUS/S2/20200419T004659_20200419T004701_T54LZM"
  ],
false, false, REF1_OPTIONS);

// COPERNICUS/S2/20181126T004659_20181126T004702_T54LZM // Example: Sunglint showing tidal flows through reefs.
// COPERNICUS/S2/20190907T004711_20190907T004705_T54LZM // Example: Strong green banding in image


// Australia, GBR, Raine Island
// A lot of scenes have strong sunglint
// CLOUDY_PIXEL_PERCENTAGE = 1
// 29 of 29 images
s2Utils.s2_composite_display_and_export(
  [
    // Good
    "COPERNICUS/S2/20180614T004711_20180614T004705_T54LZN",
    
    // OK
    "COPERNICUS/S2/20190510T004711_20190510T004710_T54LZN",
    "COPERNICUS/S2/20190619T004711_20190619T004710_T54LZN",
    "COPERNICUS/S2/20190704T004719_20190704T004715_T54LZN",
    "COPERNICUS/S2/20190724T004719_20190724T004714_T54LZN",
    "COPERNICUS/S2/20210608T004711_20210608T004707_T54LZN",
    
    // Maybe - Left
    "COPERNICUS/S2/20160823T004902_20160823T004856_T54LZN",
    "COPERNICUS/S2/20180724T004711_20180724T004707_T54LZN",
    "COPERNICUS/S2/20190828T004711_20190828T004707_T54LZN"
  ],
false, false, REF1_OPTIONS);

// Australia, GBR, Cockburn Reef, Nomad Reef, Gallon Reef
// CLOUDY_PIXEL_PERCENTAGE = 10
// 9 of 9 images
s2Utils.s2_composite_display_and_export(
  [
    // Good
    "COPERNICUS/S2/20190907T004711_20190907T004705_T54LYM",
    "COPERNICUS/S2/20191012T004709_20191012T004707_T54LYM",  // Contains some sunglint

    // OK
    "COPERNICUS/S2/20180729T004709_20180729T004703_T54LYM"
  ],
false, false, REF1_OPTIONS);

// Shows reefs on a shallow continental shelf, plus halimeda banks
// at back of Ribbon reefs.
s2Utils.s2_composite_display_and_export(
  [  
    "COPERNICUS/S2/20180726T003659_20180726T003702_T55LBE", //1
		"COPERNICUS/S2/20181004T003659_20181004T003700_T55LBE", //2
		//"COPERNICUS/S2/20181203T003659_20181203T003700_T55LBE", //3
		"COPERNICUS/S2/20200819T003711_20200819T003710_T55LBE", //1
		//"COPERNICUS/S2/20190616T003711_20190616T003708_T55LBE", //4
		"COPERNICUS/S2/20190909T003709_20190909T003706_T55LBE", //2
		//"COPERNICUS/S2/20191208T003659_20191208T003658_T55LBE" //3
	],
 false, false, REF1_OPTIONS);
  

//55LCD Australia, GBR, Lizard Island, Ribbon No 10 reef
// Searched 29 out of 29 images
// not enough images

s2Utils.s2_composite_display_and_export(
  [
    //Excellent
    "COPERNICUS/S2/20200819T003711_20200819T003710_T55LCD",
    // good
    "COPERNICUS/S2/20190810T003709_20190810T003711_T55LCD",
    // Okay
    "COPERNICUS/S2/20160830T003952_20160830T003955_T55LCD",
    "COPERNICUS/S2/20180810T003701_20180810T003704_T55LCD"
  ],
 false, false, REF1_OPTIONS);
  


// Australia, Cairns, GBR, Green Island, Arlington, Hopley comparison
// For comparision with Hopley D, et. al., (2007), 
// The Geomorphology of the Great Barrier Reef
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 17 of 17 images
                      
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20161115T002712_20161115T002822_T55KCB", // Right
    "COPERNICUS/S2/20190914T003701_20190914T003703_T55KCB", // Left
    "COPERNICUS/S2/20200730T003711_20200730T003710_T55KCB", // Left

    // Good with good water clarity                      
    "COPERNICUS/S2/20180827T002711_20180827T002706_T55KCB", // Right
    "COPERNICUS/S2/20200715T003709_20200715T003706_T55KCB" // Left
  ],
 false, false, REF1_OPTIONS);

// The primary image has a fair amount of cloud interference
// and turbid waters. This second reference is for demonstrating
// the purpose of having two composite images.
s2Utils.s2_composite_display_and_export(
  [
    //Excellent but lower water clarity
    "COPERNICUS/S2/20170718T003029_20170718T003032_T55KCB", // Right
    "COPERNICUS/S2/20200819T003711_20200819T003710_T55KCB", // Left
    
    //Good but lower water clarity
    "COPERNICUS/S2/20180514T002709_20180514T002706_T55KCB", // Right
    "COPERNICUS/S2/20191110T002711_20191110T002710_T55KCB", // Right
    "COPERNICUS/S2/20200526T003709_20200526T003705_T55KCB" // Left
  ],
  false, false, REF2_OPTIONS);
  
// 55KEV - Australia, GBR, Davies, Grub, Chicken
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 27 of 27 Images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent (Water clarity index 1 - low visibility, 5 - excellent)
    //"COPERNICUS/S2/20160708T003035_20160708T015011_T55KEV", // (2) - Removed due to lower WQ
    "COPERNICUS/S2/20190812T002711_20190812T002711_T55KEV", // (4)
    "COPERNICUS/S2/20190822T002711_20190822T002710_T55KEV", // (4)
    "COPERNICUS/S2/20190906T002709_20190906T002709_T55KEV", // (5) Can see the midshelf sea floor. Great view of weird ring contours
    "COPERNICUS/S2/20200727T002711_20200727T002713_T55KEV", // (3)
    "COPERNICUS/S2/20200816T002711_20200816T002713_T55KEV", // (3)
    //"COPERNICUS/S2/20200821T002709_20200821T002711_T55KEV", // (1) Low Water Quality, bit excellent view of plumes around reefs.
    "COPERNICUS/S2/20210915T002709_20210915T002703_T55KEV"  // (3)
  ],
 false, false, REF1_OPTIONS);
// Good
//COPERNICUS/S2/20180802T002709_20180802T002704_T55KEV
//COPERNICUS/S2/20180827T002711_20180827T002706_T55KEV
//COPERNICUS/S2/20200811T002709_20200811T002711_T55KEV


// Townsville and Magnetic Island
// Aus 827 Nautical chart
// Paluma Shoals near Saunders Beach appears to be 7 shoals, instead of one
// with some quite close to the coastline.
s2Utils.s2_composite_display_and_export(
 [                                                         // Paluma Shoals scores
    "COPERNICUS/S2/20160827T002712_20160827T051759_T55KDU", //1 // Low tide
		"COPERNICUS/S2/20190812T002711_20190812T002711_T55KDU", //2
		"COPERNICUS/S2/20200528T002711_20200528T002714_T55KDU", //2
		"COPERNICUS/S2/20200727T002711_20200727T002713_T55KDU", //1 Low tide
		"COPERNICUS/S2/20200816T002711_20200816T002713_T55KDU", //2
		"COPERNICUS/S2/20160608T003145_20160608T051758_T55KDU", //3
		"COPERNICUS/S2/20160628T003143_20160628T051719_T55KDU", //2 Low tide
		//"COPERNICUS/S2/20160728T003042_20160728T003036_T55KDU", //4
		"COPERNICUS/S2/20160926T003032_20160926T015230_T55KDU", //3
		//"COPERNICUS/S2/20170812T003031_20170812T003153_T55KDU", //6 
		//"COPERNICUS/S2/20170906T002659_20170906T002700_T55KDU", //5 
		//"COPERNICUS/S2/20180817T002711_20180817T002707_T55KDU", //4 
		//"COPERNICUS/S2/20180901T002659_20180901T002807_T55KDU", //4 
		//"COPERNICUS/S2/20190718T002719_20190718T003157_T55KDU", //5 
		//"COPERNICUS/S2/20200503T002709_20200503T002704_T55KDU", //5  // Fishing trawler tracks north of Magnetic Island
		"COPERNICUS/S2/20200717T002711_20200717T002712_T55KDU", //3 
		"COPERNICUS/S2/20200811T002709_20200811T002711_T55KDU" //3 
		//"COPERNICUS/S2/20210513T002711_20210513T002707_T55KDU"  //4
	],
  false, false, REF1_OPTIONS);


  
//55KFU Australia, GBR, Dingo Reefs, Gould Reefs
// Searched 86 out of 86 images

s2Utils.s2_composite_display_and_export(
  [
    //Excellent
    "COPERNICUS/S2/20180730T002049_20180730T002051_T55KFU",  
    "COPERNICUS/S2/20180829T002049_20180829T002045_T55KFU",
    "COPERNICUS/S2/20190908T002051_20190908T002053_T55KFU",
    "COPERNICUS/S2/20200729T002059_20200729T002057_T55KFU",
    "COPERNICUS/S2/20201101T002101_20201101T002059_T55KFU",
    "COPERNICUS/S2/20210729T002101_20210729T002058_T55KFU",
    "COPERNICUS/S2/20210922T002049_20210922T002052_T55KFU"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // Good
    "COPERNICUS/S2/20170804T002109_20170804T002104_T55KFU",
    "COPERNICUS/S2/20180605T002101_20180605T002055_T55KFU",
    "COPERNICUS/S2/20180620T002059_20180620T002053_T55KFU",
    "COPERNICUS/S2/20180705T002101_20180705T002055_T55KFU",
    "COPERNICUS/S2/20180819T002049_20180819T002047_T55KFU",
    "COPERNICUS/S2/20180824T002051_20180824T002053_T55KFU",
    "COPERNICUS/S2/20190809T002101_20190809T002058_T55KFU",
    "COPERNICUS/S2/20211012T002059_20211012T002055_T55KFU"
  ],
 false, false, REF2_OPTIONS);
  
//55KGU Australia, GBR, Hardy Reef, Block Reef
// Searched 89 out of 89 images

s2Utils.s2_composite_display_and_export(
  [
    //Excellent
    "COPERNICUS/S2/20170814T002109_20170814T002103_T55KGU",
    "COPERNICUS/S2/20190809T002101_20190809T002058_T55KGU",
    "COPERNICUS/S2/20200624T002101_20200624T002100_T55KGU",
    "COPERNICUS/S2/20200714T002101_20200714T002059_T55KGU",
    "COPERNICUS/S2/20200813T002101_20200813T002100_T55KGU"
  ],
 false, false, REF1_OPTIONS);
  
//56KKC Australia, GBR, Cockatoo Reef, Hopley comparison
// Searched 71 out of 71 images

s2Utils.s2_composite_display_and_export(
  [
    //Excellent
    "COPERNICUS/S2/20180212T001111_20180212T001105_T56KKC",
    "COPERNICUS/S2/20181015T001109_20181015T001105_T56KKC",
    "COPERNICUS/S2/20190811T001119_20190811T001116_T56KKC",
    "COPERNICUS/S2/20190905T001111_20190905T001109_T56KKC",
    "COPERNICUS/S2/20190910T001109_20190910T001110_T56KKC",
    "COPERNICUS/S2/20191109T001109_20191109T001108_T56KKC",
    "COPERNICUS/S2/20200716T001109_20200716T001110_T56KKC",
    "COPERNICUS/S2/20200726T001109_20200726T001111_T56KKC",
    "COPERNICUS/S2/20200810T001121_20200810T001115_T56KKC",
    "COPERNICUS/S2/20200815T001109_20200815T001112_T56KKC",
    "COPERNICUS/S2/20210711T001109_20210711T001111_T56KKC",
    "COPERNICUS/S2/20210721T001109_20210721T001111_T56KKC",
    "COPERNICUS/S2/20210726T001111_20210726T001112_T56KKC"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // Good
    "COPERNICUS/S2/20170826T001101_20170826T001104_T56KKC",
    "COPERNICUS/S2/20170905T000731_20170905T000731_T56KKC",
    "COPERNICUS/S2/20170925T001111_20170925T001105_T56KKC",
    "COPERNICUS/S2/20180821T001111_20180821T001108_T56KKC",
    "COPERNICUS/S2/20180831T001111_20180831T001107_T56KKC",
    "COPERNICUS/S2/20190212T001109_20190212T001109_T56KKC",
    "COPERNICUS/S2/20191015T001111_20191015T001112_T56KKC",
    "COPERNICUS/S2/20200601T001121_20200601T001115_T56KKC",
    "COPERNICUS/S2/20201009T001121_20201009T001115_T56KKC",
    "COPERNICUS/S2/20210507T001111_20210507T001108_T56KKC",
    "COPERNICUS/S2/20211029T001109_20211029T001110_T56KKC"
  ],
 false, false, REF2_OPTIONS);
  




// 56KMU - Australia, GBR, Lady Musgrave
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 30 of 68 Images
// (X) is an estimate of water clarity 1 - low, 5 - super clear
s2Utils.s2_composite_display_and_export(
  [
    // Excellent 
    "COPERNICUS/S2/20160828T000222_20160828T000219_T56KMU", // (4) Can see the sea floor
    "COPERNICUS/S2/20160530T000222_20160530T000223_T56KMU",
    "COPERNICUS/S2/20160709T000222_20160709T000319_T56KMU",
    "COPERNICUS/S2/20161017T000212_20161017T000213_T56KMU", // (3)
    "COPERNICUS/S2/20170525T000221_20170525T000220_T56KMU", // (2)
    "COPERNICUS/S2/20170729T000219_20170729T000217_T56KMU", // (2)
    "COPERNICUS/S2/20170808T000219_20170808T000216_T56KMU", // (3)
    "COPERNICUS/S2/20180709T000241_20180709T000241_T56KMU", // (2)
    "COPERNICUS/S2/20180714T000239_20180714T000238_T56KMU", // (2)
    "COPERNICUS/S2/20180719T000241_20180719T000241_T56KMU", // (2)
    "COPERNICUS/S2/20180808T000241_20180808T000240_T56KMU", // (4)
  ],
 false, false, REF1_OPTIONS);
// Good
//COPERNICUS/S2/20160629T000219_20160629T044543_T56KMU
//COPERNICUS/S2/20161027T000212_20161027T000214_T56KMU", // (3)

// OK
//COPERNICUS/S2/20161007T000212_20161007T000213_T56KMU" // Very clear patch in the middle of the image.

// 56KLB - Australia, GBR, Swains, Heralds Reef
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 33 of 38 Images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20190811T001119_20190811T001116_T56KLB",
    "COPERNICUS/S2/20190905T001111_20190905T001109_T56KLB",
    "COPERNICUS/S2/20200716T001109_20200716T001110_T56KLB",
    "COPERNICUS/S2/20200726T001109_20200726T001111_T56KLB",
    "COPERNICUS/S2/20200815T001109_20200815T001112_T56KLB",
    "COPERNICUS/S2/20210731T001109_20210731T001110_T56KLB"
  ],
 false, false, REF1_OPTIONS);
// Good
// COPERNICUS/S2/20180707T001109_20180707T001212_T56KLB
// COPERNICUS/S2/20200810T001121_20200810T001115_T56KLB
// COPERNICUS/S2/20210721T001109_20210721T001111_T56KLB

// These images show interesting oceanographic processes
// COPERNICUS/S2/20170428T001221_20170428T001215_T56KLB" // Amazoning view of mid tide turbid flows through reef matrix
// COPERNICUS/S2/20190930T001109_20190930T001109_T56KLB" // Great view of mid tide turbid flows, just after strong tides.
// COPERNICUS/S2/20210328T001111_20210328T001107_T56KLB" // More turbid flows.
// COPERNICUS/S2/20210527T001111_20210527T001110_T56KLB" // Excellent view of mid tide turbid flows
// COPERNICUS/S2/20210726T001111_20210726T001112_T56KLB" // Excellent view of mid tide turbid flows
// 
// COPERNICUS/S2/20210507T001111_20210507T001108_T56KLB" // Shows algal blooms get pushed together at the boundary of eddies
// COPERNICUS/S2/20180816T001059_20180816T001102_T56KLB" // Large amount of organics at edge of the shelf.
// COPERNICUS/S2/20180821T001111_20180821T001108_T56KLB" // Excellent image. Large amount of organics at edge of the shelf.

// Australia, GBR, North east Swains, Elusive Reef
// 0.1% Cloud cover
// 130 of 160 images
// In this area there are significant tidal currents in the bottom right reefs
// this limited the visibility in many of the images.
// There is very limited (1) full scene images after 2017.
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    // "COPERNICUS/S2/20160609T000222_20160609T000222_T56KMB", // 3, whole image
    "COPERNICUS/S2/20170515T000221_20170515T000221_T56KMB", // 2, whole image, some deeper features not visible
    "COPERNICUS/S2/20170729T000219_20170729T000217_T56KMB", // 2, whole image
    // "COPERNICUS/S2/20180808T000241_20180808T000240_T56KMB", // 2 only bottom
    // "COPERNICUS/S2/20190619T000249_20190619T000248_T56KMB", // 2 only bottom
    "COPERNICUS/S2/20190724T000251_20190724T000245_T56KMB", // 1 only bottom
    // "COPERNICUS/S2/20190818T000249_20190818T000246_T56KMB", // 2 only bottom, some deeper features not visible
    "COPERNICUS/S2/20190905T001111_20190905T001109_T56KMB", // 1 only left
    "COPERNICUS/S2/20190917T000239_20190917T000239_T56KMB", // 1 only bottom, excellent clarity
    "COPERNICUS/S2/20200716T001109_20200716T001110_T56KMB", // 1 only left
    // "COPERNICUS/S2/20200726T001109_20200726T001111_T56KMB", // 2 only left
    "COPERNICUS/S2/20201105T000251_20201105T000245_T56KMB", // 1 only bottom, good clarity
    
    // Good
    "COPERNICUS/S2/20161106T000222_20161107T142839_T56KMB", // 1, whole image
    // "COPERNICUS/S2/20180821T001111_20180821T001108_T56KMB", // 2 only left, nutrient intrusion
    "COPERNICUS/S2/20190213T235651_20190213T235654_T56KMB", // 1, clouds over Elusive reef, but whole image
    "COPERNICUS/S2/20190727T001111_20190727T001114_T56KMB", // 1 only left
    "COPERNICUS/S2/20190922T000241_20190922T000240_T56KMB", // 1 only bottom, good clarity
    "COPERNICUS/S2/20200812T000249_20200812T000243_T56KMB", // 1 only bottom
    "COPERNICUS/S2/20200815T001109_20200815T001112_T56KMB", // 1 only left

    // OK
    // "COPERNICUS/S2/20160927T000212_20160927T000213_T56KMB", // 2, quite a few scattered clouds
    // "COPERNICUS/S2/20170719T000219_20170719T000218_T56KMB", // 2, whole image, Some clouds in top right
    "COPERNICUS/S2/20171012T000241_20171012T000239_T56KMB", // 1, Only bottom
    "COPERNICUS/S2/20171211T000241_20171211T000235_T56KMB", // 1, Only bottom
    //"COPERNICUS/S2/20190808T000249_20190808T000247_T56KMB", // 2, only bottom
],
  false, true, REF1_OPTIONS);

// Shows turbid plumes on the right edge. This would make for an interesting example
// to show region tidal flows.
// COPERNICUS/S2/20171206T000209_20171206T000206_T56KMB



// 56KMA - Australia, GBR, South east Swains, Horseshoe, Hackle
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 46 of 46 Images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    //"COPERNICUS/S2/20170729T000219_20170729T000217_T56KMA", // (2) Removed due to lower water clarity
    "COPERNICUS/S2/20170813T000221_20170813T000219_T56KMA", // (3)
    //"COPERNICUS/S2/20180808T000241_20180808T000240_T56KMA", // (2)
    //"COPERNICUS/S2/20190724T000251_20190724T000245_T56KMA", // (2)
    "COPERNICUS/S2/20190917T000239_20190917T000239_T56KMA", // (3)
    "COPERNICUS/S2/20190922T000241_20190922T000240_T56KMA", // (4.5)
    //"COPERNICUS/S2/20210718T000239_20210718T000242_T56KMA", // (2)
    //"COPERNICUS/S2/20211115T000239_20211115T000239_T56KMA", // (2)
    // Good
    "COPERNICUS/S2/20171226T000209_20171226T000206_T56KMA", // (4)
    "COPERNICUS/S2/20190213T235651_20190213T235654_T56KMA", // (2.5)
    "COPERNICUS/S2/20201105T000251_20201105T000245_T56KMA" // (3)
  ],
  false, true, REF1_OPTIONS);

// ===============================================================
//
//                      NORTHERN TERRITORY
//
// ===============================================================

// North Arnhem land, Arafura Sea (Northern Territory, Australia)
// AUS00718 - Nautical chart
// The water is so turbid that none of the marine features are visible.
// There should be three small shoals at ~10 m and a larger raised area
// at 20 - 25 m based on the Nautical charts. None of these are visible
// in any of the images.
// This is an example of a scene with also no features in turbid waters.
s2Utils.s2_composite_display_and_export(
  [
		"COPERNICUS/S2/20170909T012711_20170909T012714_T53LMH",
		"COPERNICUS/S2/20190914T012629_20190914T013005_T53LMH",
		"COPERNICUS/S2/20170825T012709_20170825T012711_T53LMH",
		"COPERNICUS/S2/20190318T012719_20190318T012714_T53LMH",
		"COPERNICUS/S2/20171210T011719_20171210T011713_T53LMH",
		"COPERNICUS/S2/20180723T011731_20180723T011726_T53LMH",
		"COPERNICUS/S2/20160723T011823_20160723T061426_T53LMH",
		"COPERNICUS/S2/20180708T011729_20180708T011723_T53LMH",
		"COPERNICUS/S2/20180802T011731_20180802T011725_T53LMH",
		"COPERNICUS/S2/20190708T011731_20190708T011730_T53LMH",
		"COPERNICUS/S2/20190723T011739_20190723T011733_T53LMH",
		"COPERNICUS/S2/20190906T011721_20190906T011724_T53LMH",
		"COPERNICUS/S2/20191205T011721_20191205T011723_T53LMH",
		"COPERNICUS/S2/20210508T011721_20210508T011724_T53LMH",
		"COPERNICUS/S2/20170827T011731_20170827T011725_T53LMH",
		"COPERNICUS/S2/20180529T011719_20180529T011721_T53LMH",
		"COPERNICUS/S2/20190618T011731_20190618T011729_T53LMH",
		"COPERNICUS/S2/20190703T011739_20190703T011901_T53LMH",
		"COPERNICUS/S2/20190802T011739_20190802T011813_T53LMH",
		"COPERNICUS/S2/20190807T011731_20190807T011729_T53LMH",
		"COPERNICUS/S2/20190812T011729_20190812T011732_T53LMH",
		"COPERNICUS/S2/20190827T011731_20190827T011726_T53LMH",
		"COPERNICUS/S2/20190901T011729_20190901T011855_T53LMH",
		"COPERNICUS/S2/20190911T011729_20190911T011726_T53LMH",
		"COPERNICUS/S2/20191130T011719_20191130T011720_T53LMH",
		"COPERNICUS/S2/20200722T011731_20200722T011730_T53LMH",
		"COPERNICUS/S2/20210418T011721_20210418T011719_T53LMH",
		"COPERNICUS/S2/20210513T011729_20210513T011724_T53LMH"
  ],
 false, false, REF1_OPTIONS);
  


// ===============================================================
//
//                  GULF OF CARPENTARIA
//
// ===============================================================

// Groote Eylandt
// AUS00305 - Nautical charts. 
// This scene is split in two. 
// On the inshore areas the visibility of the final image just shows
// features that are only 1 m below LAT.
s2Utils.s2_composite_display_and_export(
  [
    // Right
    "COPERNICUS/S2/20160302T010734_20160302T075127_T53LPE",
    "COPERNICUS/S2/20161207T010722_20161207T010825_T53LPE",
    "COPERNICUS/S2/20170923T010721_20170923T010723_T53LPE",
    "COPERNICUS/S2/20181003T010719_20181003T011008_T53LPE",
    "COPERNICUS/S2/20181028T010721_20181028T010724_T53LPE",
    "COPERNICUS/S2/20190111T010729_20190111T010726_T53LPE",
    "COPERNICUS/S2/20190220T010729_20190220T010727_T53LPE",
    "COPERNICUS/S2/20190630T010739_20190630T010736_T53LPE",
    "COPERNICUS/S2/20190725T010731_20190725T010732_T53LPE",
    "COPERNICUS/S2/20190809T010739_20190809T010734_T53LPE",
    "COPERNICUS/S2/20190903T010731_20190903T010727_T53LPE",
    "COPERNICUS/S2/20190908T010729_20190908T010729_T53LPE",
    "COPERNICUS/S2/20190918T010729_20190918T010726_T53LPE",
    "COPERNICUS/S2/20191013T010731_20191013T011020_T53LPE",
    "COPERNICUS/S2/20191127T010729_20191127T010723_T53LPE",
    "COPERNICUS/S2/20191207T010719_20191207T010721_T53LPE",
    "COPERNICUS/S2/20200420T010731_20200420T010728_T53LPE",
    "COPERNICUS/S2/20201101T010729_20201101T010730_T53LPE",
    // Left
    //"COPERNICUS/S2/20160812T011732_20160812T061101_T53LPE",
    "COPERNICUS/S2/20160901T011722_20160901T061102_T53LPE",
    "COPERNICUS/S2/20180315T011721_20180315T011720_T53LPE",
    ///"COPERNICUS/S2/20180827T011719_20180827T011947_T53LPE",
    "COPERNICUS/S2/20180906T011719_20180906T011716_T53LPE",
    //"COPERNICUS/S2/20200712T011731_20200712T011729_T53LPE",
    "COPERNICUS/S2/20200826T011729_20200826T011728_T53LPE"
  ],
 false, false, REF1_OPTIONS);
  
 

// Gulf of Carpentaria
// The DeepFeature contrast doesn't seem to work in the turbid waters
// of the Gulf
  s2Utils.s2_composite_display_and_export(
  [
    "COPERNICUS/S2/20170707T005709_20170707T005708_T54LTH",
    "COPERNICUS/S2/20170925T005659_20170925T005654_T54LTH",
    //"COPERNICUS/S2/20171015T005659_20171015T005654_T54LTH",
    "COPERNICUS/S2/20180915T005701_20180915T005704_T54LTH",
    "COPERNICUS/S2/20181010T005709_20181010T005704_T54LTH",
    //"COPERNICUS/S2/20190212T005711_20190212T005705_T54LTH",
    //"COPERNICUS/S2/20190816T005719_20190816T010123_T54LTH",
    //"COPERNICUS/S2/20190905T005709_20190905T010119_T54LTH",
    "COPERNICUS/S2/20190920T005711_20190920T005708_T54LTH",
    "COPERNICUS/S2/20191005T005709_20191005T010117_T54LTH",
    "COPERNICUS/S2/20191010T005711_20191010T005711_T54LTH",
    "COPERNICUS/S2/20191114T005709_20191114T005707_T54LTH",
    //"COPERNICUS/S2/20200904T005711_20200904T005712_T54LTH",
    "COPERNICUS/S2/20200909T005709_20200909T005710_T54LTH"
    //"COPERNICUS/S2/20200924T005711_20200924T005713_T54LTH"
  ],
 false, false, REF1_OPTIONS);
  
// ===============================================================
//
//                      TORRES STRAIT
//
// ===============================================================



// Central Torres Strait, PNG border (Boigu Island, Saibai Island)
s2Utils.s2_composite_display_and_export(
  [
    //"COPERNICUS/S2/20180707T005711_20180707T005709_T54LXQ", //left: high tide moderate water clarity
    "COPERNICUS/S2/20200820T005709_20200820T005711_T54LXQ", //left: low tide, low clouds, low turbidity, low sunglint
    "COPERNICUS/S2/20151117T004742_20170102T064132_T54LXQ", //right
    "COPERNICUS/S2/20161012T004702_20161012T035438_T54LXQ",
    "COPERNICUS/S2/20191201T004659_20191201T004701_T54LXQ",  //moderate tide, scattered clouds, low turbidity, low sunglint
    "COPERNICUS/S2/20190510T004711_20190510T004710_T54LXQ",  //scattered clouds, moderate water clarity
    "COPERNICUS/S2/20180917T004659_20180917T004657_T54LXQ"   //scattered clouds, moderate water clarity"
  ], 
 false, false, REF1_OPTIONS);



// Eastern Torres Strait, PNG border (Warrior Reef, Daru)
s2Utils.s2_composite_display_and_export(
  [
    // Has some clouds, but image is so much better than others that
    // adding them makes the image worse.
    "COPERNICUS/S2/20151117T004742_20151117T004904_T54LYQ", // clear water
  ], 
  false, false, REF1_OPTIONS);
  
  //  "COPERNICUS/S2/20181201T004701_20181201T004657_T54LYQ", // more turbid
  //  "COPERNICUS/S2/20190110T004701_20190110T004701_T54LYQ",
  //  "COPERNICUS/S2/20190115T004709_20190115T004705_T54LYQ"

// South central TS
s2Utils.s2_composite_display_and_export(
  [
    "COPERNICUS/S2/20180920T005659_20180920T005700_T54LXP",
    "COPERNICUS/S2/20180930T005659_20180930T005702_T54LXP",
    "COPERNICUS/S2/20191015T005709_20191015T005709_T54LXP",
    "COPERNICUS/S2/20200909T005709_20200909T005710_T54LXP",
    "COPERNICUS/S2/20190823T004709_20190823T004711_T54LXP",
    "COPERNICUS/S2/20180729T004709_20180729T004703_T54LXP",
    "COPERNICUS/S2/20161012T004702_20161012T035438_T54LXP",
    "COPERNICUS/S2/20180917T004659_20180917T004657_T54LXP",
    "COPERNICUS/S2/20180927T004659_20180927T004700_T54LXP",
    "COPERNICUS/S2/20190907T004711_20190907T004705_T54LXP",
    "COPERNICUS/S2/20181022T004701_20181022T004703_T54LXP",
    "COPERNICUS/S2/20190510T004711_20190510T004710_T54LXP" 
  ], 
 false, false, REF1_OPTIONS);
  



// Bramble cay
s2Utils.s2_composite_display_and_export(
  [
    "COPERNICUS/S2/20181221T004701_20181221T004658_T54LZQ",	// Some sunglint
    "COPERNICUS/S2/20151117T004742_20170102T064132_T54LZQ",	// Sunglint
    "COPERNICUS/S2/20171121T004659_20171121T004654_T54LZQ",	// Sunglint
    "COPERNICUS/S2/20190115T004709_20190115T004705_T54LZQ",	// Scattered clouds
    "COPERNICUS/S2/20191211T004659_20191211T004700_T54LZQ",	// Scattered clouds
    "COPERNICUS/S2/20200120T004659_20200120T004659_T54LZQ",	// Sunglint
    "COPERNICUS/S2/20200229T004709_20200229T004703_T54LZQ",	// Scattered clouds
    "COPERNICUS/S2/20200419T004659_20200419T004701_T54LZQ"	// Some banding, scattered clouds
  ], 
 false, false, REF1_OPTIONS);


//====================================================
//
//                Global Reefs
//
//====================================================


//  01KCV Fiji, Moce, Tubou
// 
// 38 of 38 images

s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20200808T220919_20200808T220922_T01KCV",
    // good
    "COPERNICUS/S2/20210405T220919_20210405T220916_T01KCV",
    "COPERNICUS/S2/20180908T220909_20180908T220909_T01KCV",
    "COPERNICUS/S2/20190715T220929_20190715T220927_T01KCV",
    "COPERNICUS/S2/20200510T220919_20200510T220917_T01KCV",
    "COPERNICUS/S2/20210917T220921_20210917T220921_T01KCV"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // okay images          
    "COPERNICUS/S2/20190605T220929_20190605T220926_T01KCV",
    "COPERNICUS/S2/20161112T220922_20161112T220917_T01KCV",
    "COPERNICUS/S2/20170730T220921_20170730T220920_T01KCV",
    "COPERNICUS/S2/20200515T220921_20200515T220924_T01KCV",
    "COPERNICUS/S2/20200121T220909_20200121T220912_T01KCV"
  ],
 false, false, REF2_OPTIONS);


// 06LWH French Polynesia, Palliser Islands, Kaukura Atoll
// Not enough images
// 18 of 18 images

s2Utils.s2_composite_display_and_export(
  [
    //okay images
    "COPERNICUS/S2/20200325T200849_20200325T200851_T06LWH",
    "COPERNICUS/S2/20200901T200859_20200901T200856_T06LWH",
    "COPERNICUS/S2/20210524T200851_20210524T200854_T06LWH",
    "COPERNICUS/S2/20210807T200859_20210807T200854_T06LWH",
    "COPERNICUS/S2/20210901T200851_20210901T200854_T06LWH",
    "COPERNICUS/S2/20210911T200851_20210911T200854_T06LWH"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // maybe images          
    "COPERNICUS/S2/20200315T200849_20200315T200851_T06LWH",
    "COPERNICUS/S2/20200728T200901_20200728T200859_T06LWH",
    "COPERNICUS/S2/20200807T200901_20200807T200859_T06LWH",
    "COPERNICUS/S2/20210603T200851_20210603T200854_T06LWH"
  ],
 false, false, REF2_OPTIONS);
  
  
  
  // 06LUJ French Polynesia, Tikehau, Mataiva Atoll
//searched 28 out of 28 images

s2Utils.s2_composite_display_and_export(
  [
    //Excellent
    "COPERNICUS/S2/20200921T200859_20200921T200855_T06LUJ",
    
    // Good
    "COPERNICUS/S2/20210628T200859_20210628T200854_T06LUJ",
    "COPERNICUS/S2/20211016T200859_20211016T200854_T06LUJ"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // Okay images          
    "COPERNICUS/S2/20200613T200859_20200613T200855_T06LUJ",
    "COPERNICUS/S2/20210507T201911_20210507T201905_T06LUJ",
    "COPERNICUS/S2/20210921T200901_20210921T200856_T06LUJ"
    //Maybe
//COPERNICUS/S2/20200728T200901_20200728T200859_T06LUJ
//COPERNICUS/S2/20201031T200859_20201031T200856_T06LUJ
//COPERNICUS/S2/20210708T200859_20210708T200855_T06LUJ
//COPERNICUS/S2/20210807T200859_20210807T200854_T06LUJ
//COPERNICUS/S2/20210911T200851_20210911T200854_T06LUJ
  ],
 false, false, REF2_OPTIONS);
  
  
  
// 58PGR Marshall Islands, Kwajalein Atoll
// Not enough images
// 18 of 18 images

s2Utils.s2_composite_display_and_export(
  [
    //good images
    "COPERNICUS/S2/20200822T232209_20200822T232212_T58PGR",
    //okay
    "COPERNICUS/S2/20180110T232201_20180110T232200_T58PGR",
    "COPERNICUS/S2/20180917T232201_20180917T232204_T58PGR",
    "COPERNICUS/S2/20190219T232209_20190219T232207_T58PGR",
    "COPERNICUS/S2/20191116T232209_20191116T232206_T58PGR",
    "COPERNICUS/S2/20201120T232209_20201120T232209_T58PGR",
    "COPERNICUS/S2/20210713T232211_20210713T232211_T58PGR"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // maybe images          
    "COPERNICUS/S2/20170214T232201_20170214T232329_T58PGR",
    "COPERNICUS/S2/20181201T232209_20181201T232203_T58PGR",
    "COPERNICUS/S2/20200628T232211_20200628T232213_T58PGR"
  ],
 false, false, REF2_OPTIONS);
  
  
 // 58PET Marshall Islands, Bikini Atoll
// Not enough images
// 21 of 21 images

s2Utils.s2_composite_display_and_export(
  [
    //good images
    "COPERNICUS/S2/20190314T233259_20190314T233253_T58PET",
    "COPERNICUS/S2/20200128T233249_20200128T233248_T58PET",
    //okay
    "COPERNICUS/S2/20180403T233301_20180403T233255_T58PET",
    "COPERNICUS/S2/20190523T233309_20190523T233304_T58PET",
    "COPERNICUS/S2/20180108T233249_20180108T233247_T58PET",
    "COPERNICUS/S2/20180222T233251_20180222T233252_T58PET",
    "COPERNICUS/S2/20210216T233301_20210216T233255_T58PET"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // maybe images          
    "COPERNICUS/S2/20180508T233259_20180508T233254_T58PET", // sunglint on edge
    "COPERNICUS/S2/20191020T233259_20191020T233256_T58PET",
    "COPERNICUS/S2/20210211T233259_20210211T233254_T58PET",
    "COPERNICUS/S2/20210820T233259_20210820T233254_T58PET"
  ],
 false, false, REF2_OPTIONS);
  
  
 
 // 53NMJ Palau
// Not enough images
// 

s2Utils.s2_composite_display_and_export(
  [
    //good images
    "COPERNICUS/S2/20211026T013459_20211026T013454_T53NMJ",
    //okay
    "COPERNICUS/S2/20200911T013459_20200911T013455_T53NMJ" // sunglint on the edge
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // maybe images          
    "COPERNICUS/S2/20180420T013451_20180420T013454_T53NMJ",
    "COPERNICUS/S2/20180624T013449_20180624T013451_T53NMJ"
  ],
 false, false, REF2_OPTIONS);
  
// 43NCE Maldives, Hulhumale
// Searched 46 out of 46 images
// 

s2Utils.s2_composite_display_and_export(
  [
    //Excellent images
    "COPERNICUS/S2/20211202T052201_20211202T053702_T43NCE",
    // good images
    "COPERNICUS/S2/20160323T051622_20160323T053216_T43NCE", // sunglint in the corner (not to use)
    "COPERNICUS/S2/20181019T053711_20181019T053713_T43NCE", // waves
    "COPERNICUS/S2/20190507T053721_20190507T053720_T43NCE",
    "COPERNICUS/S2/20200201T053711_20200201T053708_T43NCE",
    "COPERNICUS/S2/20210307T053721_20210307T053716_T43NCE"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // Okay images
    "COPERNICUS/S2/20200307T053719_20200307T053714_T43NCE",
    "COPERNICUS/S2/20191228T053709_20191228T053711_T43NCE",
    "COPERNICUS/S2/20200630T053721_20200630T053721_T43NCE",
    "COPERNICUS/S2/20210501T053709_20210501T053712_T43NCE",
    "COPERNICUS/S2/20210620T051649_20210620T053110_T43NCE"
  ],
 false, false, REF2_OPTIONS);
  
  
 //56LKR PNG, Trobriand Islands
// Searched 9 out of 9 images
// not enough images

s2Utils.s2_composite_display_and_export(
  [
    //Excellent images
    "COPERNICUS/S2/20161013T001722_20161013T001727_T56LKR",
    // good images
    "COPERNICUS/S2/20180928T001719_20180928T001715_T56LKR",
    // okay images
    "COPERNICUS/S2/20180610T001719_20180610T001719_T56LKR",
    "COPERNICUS/S2/20190705T001729_20190705T001730_T56LKR",
    "COPERNICUS/S2/20191207T001721_20191207T001719_T56LKR"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // Maybe
    "COPERNICUS/S2/20180809T001719_20180809T001716_T56LKR",
    "COPERNICUS/S2/20181008T001719_20181008T001717_T56LKR",
    "COPERNICUS/S2/20211027T001731_20211027T001726_T56LKR"
  ],
 false, false, REF2_OPTIONS);
  
  
//56LLN PNG
// Searched 28 out of 28 images
// not enough images

s2Utils.s2_composite_display_and_export(
  [
    //Good images
    "COPERNICUS/S2/20160506T001730_20160506T032255_T56LLN",
    "COPERNICUS/S2/20180416T001721_20180416T001722_T56LLN",
    "COPERNICUS/S2/20180809T001719_20180809T001716_T56LLN",
    "COPERNICUS/S2/20200912T001731_20200912T001725_T56LLN",
    "COPERNICUS/S2/20210803T001729_20210803T001723_T56LLN"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // okay
    "COPERNICUS/S2/20190705T001729_20190705T001730_T56LLN",
    // Maybe
    "COPERNICUS/S2/20180521T001719_20180521T001719_T56LLN"
  ],
 false, false, REF2_OPTIONS);
  

// 37PFT - Eritrea, Red Sea, Dahlak Marine National Park
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 30 of 106 Images
s2Utils.s2_composite_display_and_export(
  [
    // Ranking was primarily based on water clarity, as most images
    // had little cloud, but lots had turbidity issues.
    // Good
    "COPERNICUS/S2/20160115T074252_20160115T075210_T37PFT",
    "COPERNICUS/S2/20171110T074119_20171110T075158_T37PFT",
    "COPERNICUS/S2/20171130T074239_20171130T075310_T37PFT",
    "COPERNICUS/S2/20180208T074049_20180208T075259_T37PFT",

    // OK
    "COPERNICUS/S2/20161031T074042_20161031T112458_T37PFT",
    "COPERNICUS/S2/20170228T075211_20170228T075238_T37PFT",
    "COPERNICUS/S2/20171205T075211_20171205T075207_T37PFT",
    "COPERNICUS/S2/20171225T075211_20171225T075206_T37PFT"
  ],
 false, false, REF1_OPTIONS);
  
  
// 51PWN - Philippines, Visayan Sea, Bantayan Island
// This tile is heavily affected by sunglint. Many of these
// sunglint affected images show the shift to dark green caused
// by a limitation in the sunglint correction algorithm used.
// To get a reasonable number of images in this tile we would
// need to increase the threshold for sunglint correction and
// fix why sunglint affected areas are colour shifted.
// CLOUDY_PIXEL_PERCENTAGE = 5
// 38 of 38 Images
s2Utils.s2_composite_display_and_export(
  [
    // Good
    "COPERNICUS/S2/20180301T022319_20180301T022317_T51PWN",
    // OK
    "COPERNICUS/S2/20180306T022321_20180306T022322_T51PWN",
    "COPERNICUS/S2/20181211T022321_20181211T022317_T51PWN",
    "COPERNICUS/S2/20190306T022329_20190306T022323_T51PWN",
    "COPERNICUS/S2/20191231T022319_20191231T022353_T51PWN",
    "COPERNICUS/S2/20201210T022321_20201210T022322_T51PWN",
    "COPERNICUS/S2/20210305T022329_20210305T022325_T51PWN"
  ],
 false, false, REF1_OPTIONS);
  
// 51MWT - Indonesia, Melilis Island
// Very strong sunglint in this area and heavy clouds made
// getting good imagery very limited
// CLOUDY_PIXEL_PERCENTAGE = 5
// 33 of 33 Images
s2Utils.s2_composite_display_and_export(
  [
    // Good
    "COPERNICUS/S2/20200531T021351_20200531T021742_T51MWT",
    // OK
    "COPERNICUS/S2/20180726T021339_20180726T021609_T51MWT",
    // Maybe
    "COPERNICUS/S2/20180616T021349_20180616T021546_T51MWT",
    "COPERNICUS/S2/20190517T021351_20190517T021348_T51MWT",
    "COPERNICUS/S2/20190721T021359_20190721T021806_T51MWT",
    "COPERNICUS/S2/20200122T021341_20200122T021338_T51MWT"
  ],
 false, false, REF1_OPTIONS);  
  
  
  
  
  
  
//====================================================
//
//                New Caledonia
//
//====================================================

s2Utils.s2_composite_display_and_export(
  [
    // Excellent - 
    // 58KCCC New Caledonia, Yande Island
                                            
    "COPERNICUS/S2/20170502T232121_20170502T232124_T58KCC",
    "COPERNICUS/S2/20170815T232119_20170815T232119_T58KCC",
    "COPERNICUS/S2/20180805T231851_20180805T231852_T58KCC"
  ],
 false, false, REF1_OPTIONS);


// Rachel bycroft image selection
//  58KFC New caledonia, Ouvea
// 
// 58 of 58 images

s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20170608T231141_20170608T231144_T58KFC",
    "COPERNICUS/S2/20180817T230859_20180817T231130_T58KFC",
    "COPERNICUS/S2/20210227T230911_20210227T230905_T58KFC"
  ],
 false, false, REF1_OPTIONS);


s2Utils.s2_composite_display_and_export(
  [
    // Good images          
    "COPERNICUS/S2/20180213T230901_20180213T230902_T58KFC",
    "COPERNICUS/S2/20190703T230919_20190703T230914_T58KFC",
    "COPERNICUS/S2/20200811T230911_20200811T231049_T58KFC",
    "COPERNICUS/S2/20210528T230911_20210528T230906_T58KFC"
  ],
 false, false, REF2_OPTIONS);

// Chesterfield Reefs, New Caledonia
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 14 of 14 images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    // (Relative water clarity index 1 - low visibility, 3 - excellent)
    "COPERNICUS/S2/20180602T233821_20180602T233816_T57KVU", //(2)
    "COPERNICUS/S2/20180707T233819_20180707T233814_T57KVU", //(2)
    "COPERNICUS/S2/20210221T233819_20210221T233813_T57KVU", //(2)
    
    "COPERNICUS/S2/20170118T234121_20170118T234123_T57KVU", //(2)
    "COPERNICUS/S2/20210107T233821_20210107T233816_T57KVU", //(3)
    
  ],
 false, false, REF1_OPTIONS);
  
s2Utils.s2_composite_display_and_export(
  [
    // Good
    "COPERNICUS/S2/20160622T233822_20160622T234033_T57KVU", //(1)
    "COPERNICUS/S2/20210716T233821_20210716T233819_T57KVU", //(1)    
    // OK
    "COPERNICUS/S2/20190727T233821_20190727T234110_T57KVU",
    "COPERNICUS/S2/20211223T233821_20211223T233817_T57KVU",
    
    // Maybe
    "COPERNICUS/S2/20160114T233822_20160114T233823_T57KVU"
  ],
 false, false, REF2_OPTIONS);

// Chesterfield Reefs, New Caledonia
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 21 of 21 images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20180707T233819_20180707T233814_T57KVT",
    // Good
    "COPERNICUS/S2/20160124T233822_20160124T233821_T57KVT",
    "COPERNICUS/S2/20160622T233822_20160622T234033_T57KVT",
    "COPERNICUS/S2/20170118T234121_20170118T234123_T57KVT",
    "COPERNICUS/S2/20180816T233809_20180816T234117_T57KVT",
    "COPERNICUS/S2/20181010T233811_20181010T233812_T57KVT"
    // OK
    //"COPERNICUS/S2/20160104T233822_20160104T234042_T57KVT"
  ],
 false, false, REF1_OPTIONS); 




// New Caledonia, Far North West
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 26 of 26 images
s2Utils.s2_composite_display_and_export(
  [
  // Excellent
    "COPERNICUS/S2/20190907T232849_20190907T233010_T58KBE",
  
  // Good
    "COPERNICUS/S2/20160410T232839_20160411T005026_T58KBE",
    "COPERNICUS/S2/20190719T232849_20190719T233017_T58KBE",
    "COPERNICUS/S2/20210723T232851_20210723T232845_T58KBE"
  ],
false, false, REF1_OPTIONS);

// OK
// COPERNICUS/S2/20170927T232829_20170927T232826_T58KBE
// COPERNICUS/S2/20180724T232839_20180724T232839_T58KBE


// New Caledonia, Far North East
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 10 of 10 images
s2Utils.s2_composite_display_and_export(
  [
  // Excellent
    "COPERNICUS/S2/20180716T231851_20180716T231854_T58KCE",
    "COPERNICUS/S2/20191128T231851_20191128T231852_T58KCE", // Sun glint on right 
    "COPERNICUS/S2/20200122T231849_20200122T231846_T58KCE",
  
  // Good
    "COPERNICUS/S2/20220111T231849_20220111T231848_T58KCE",
  
  // OK
    "COPERNICUS/S2/20170929T231851_20170929T231932_T58KCE"
  ],
false, false, REF1_OPTIONS);


// New Caledonia, North, Wala
// CLOUDY_PIXEL_PERCENTAGE = 0.1
// 10 of 10 images
s2Utils.s2_composite_display_and_export(
  [
    // Excellent
    "COPERNICUS/S2/20200715T231901_20200715T231857_T58KCD",
    // Good
    "COPERNICUS/S2/20161004T231852_20161004T231931_T58KCD",
  
    // OK
    "COPERNICUS/S2/20181029T231849_20181029T231850_T58KCD" // Dark water
  ],
false, false, REF1_OPTIONS);

  // COPERNICUS/S2/20180601T231849_20180601T231849_T58KCD // Shows strong turbid flow within the reef lagoon. Tidal?
  // COPERNICUS/S2/20190914T231849_20190914T232047_T58KCD // Strong turbid flow. Right to left.
  // COPERNICUS/S2/20200322T231849_20200322T232042_T58KCD // EXAMPLE: Excellent example of turbid flow
  
  

// New caledonia, Lansdowne Bank
// CLOUDY_PIXEL_PERCENTAGE = 100
// 19 of 19 images
s2Utils.s2_composite_display_and_export(
  [
    // OK
    "COPERNICUS/S2/20160101T232842_20160101T232840_T57KXT", // EXAMPLE: Plumes of dark water
    "COPERNICUS/S2/20160410T232839_20160411T005026_T57KXT", // Dark water
    "COPERNICUS/S2/20160420T232852_20160420T232920_T57KXT",
    
    // Maybe
    "COPERNICUS/S2/20151112T232832_20151112T233121_T57KXT",
    "COPERNICUS/S2/20160331T232837_20160401T005502_T57KXT",
    "COPERNICUS/S2/20170115T232831_20170115T233115_T57KXT"
  ],
false, false, REF1_OPTIONS);